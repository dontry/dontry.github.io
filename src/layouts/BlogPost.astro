---
import type { CollectionEntry } from "astro:content";
import Layout from "./Layout.astro";
import FormattedDate from "../components/FormattedDate.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, date, heroImage } = Astro.props as Props;
---

<Layout title={title} description={description ?? ""}>
  <article>
    <div class="w-full">
      {
        heroImage && (
          <img
            width={1020}
            height={510}
            src={heroImage}
            alt=""
            class="block mx-auto rounded-xl shadow-lg dark:shadow-gray-800"
          />
        )
      }
    </div>
    <div class="prose prose-lg mx-auto max-w-[860px] p-4 text-gray-900 dark:text-gray-100 prose-headings:text-gray-900 dark:prose-headings:text-gray-100 prose-p:text-gray-800 dark:prose-p:text-gray-300 prose-a:text-accent hover:prose-a:text-accent-dark dark:prose-a:text-accent dark:hover:prose-a:text-accent-dark prose-code:text-gray-800 dark:prose-code:text-gray-200 prose-code:bg-gray-100 dark:prose-code:bg-gray-800 prose-strong:text-gray-900 dark:prose-strong:text-white prose-blockquote:text-gray-700 dark:prose-blockquote:text-gray-300 prose-blockquote:border-accent dark:prose-blockquote:border-accent">
      <div class="mb-4 py-4 text-center">
        {
          date && (
            <div class="mb-2 text-gray-600 dark:text-gray-400">
              <FormattedDate date={date} />
            </div>
          )
        }
        <h1 class="mb-2 text-3xl font-medium text-gray-900 dark:text-gray-100">
          {title}
        </h1>
        <hr class="border-gray-200 dark:border-gray-700" />
      </div>
      <slot />
    </div>
  </article>
</Layout>
